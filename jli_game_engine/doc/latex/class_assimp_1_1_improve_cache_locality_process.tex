\hypertarget{class_assimp_1_1_improve_cache_locality_process}{\section{Assimp\+:\+:Improve\+Cache\+Locality\+Process Class Reference}
\label{class_assimp_1_1_improve_cache_locality_process}\index{Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}}
}


{\ttfamily \#include $<$Improve\+Cache\+Locality.\+h$>$}



Inheritance diagram for Assimp\+:\+:Improve\+Cache\+Locality\+Process\+:


Collaboration diagram for Assimp\+:\+:Improve\+Cache\+Locality\+Process\+:
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_assimp_1_1_improve_cache_locality_process_ad9bdc67862de1867269690f1caec2e2e}{Is\+Active} (unsigned int p\+Flags) const 
\item 
void \hyperlink{class_assimp_1_1_improve_cache_locality_process_a00b375c4959981aa46902b4bdabf2104}{Execute} (\hyperlink{structai_scene}{ai\+Scene} $\ast$p\+Scene)
\item 
void \hyperlink{class_assimp_1_1_improve_cache_locality_process_a70a4e7c1615ab706c4b689658e98fd0a}{Setup\+Properties} (const \hyperlink{class_assimp_1_1_importer}{Importer} $\ast$p\+Imp)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{class_assimp_1_1_improve_cache_locality_process_a78286fab33f4e7ef6ab2a42b7c76e9cf}{Process\+Mesh} (\hyperlink{structai_mesh}{ai\+Mesh} $\ast$p\+Mesh, unsigned int mesh\+Num)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
The \hyperlink{class_assimp_1_1_improve_cache_locality_process}{Improve\+Cache\+Locality\+Process} reorders all faces for improved vertex cache locality. It tries to arrange all faces to fans and to render faces which share vertices directly one after the other.

\begin{DoxyNote}{Note}
This step expects triagulated input data. 
\end{DoxyNote}


\subsection{Member Function Documentation}
\hypertarget{class_assimp_1_1_improve_cache_locality_process_a00b375c4959981aa46902b4bdabf2104}{\index{Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}!Execute@{Execute}}
\index{Execute@{Execute}!Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}}
\subsubsection[{Execute}]{\setlength{\rightskip}{0pt plus 5cm}void Improve\+Cache\+Locality\+Process\+::\+Execute (
\begin{DoxyParamCaption}
\item[{{\bf ai\+Scene} $\ast$}]{p\+Scene}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_assimp_1_1_improve_cache_locality_process_a00b375c4959981aa46902b4bdabf2104}
Executes the post processing step on the given imported data. A process should throw an Import\+Error\+Exception$\ast$ if it fails. This method must be implemented by deriving classes. 
\begin{DoxyParams}{Parameters}
{\em p\+Scene} & The imported data to work at. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_assimp_1_1_base_process_ac2ec8dbb815e84a7af573fb3174279e7}{Assimp\+::\+Base\+Process}.



Here is the call graph for this function\+:


\hypertarget{class_assimp_1_1_improve_cache_locality_process_ad9bdc67862de1867269690f1caec2e2e}{\index{Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}!Is\+Active@{Is\+Active}}
\index{Is\+Active@{Is\+Active}!Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}}
\subsubsection[{Is\+Active}]{\setlength{\rightskip}{0pt plus 5cm}bool Improve\+Cache\+Locality\+Process\+::\+Is\+Active (
\begin{DoxyParamCaption}
\item[{unsigned int}]{p\+Flags}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_assimp_1_1_improve_cache_locality_process_ad9bdc67862de1867269690f1caec2e2e}
Returns whether the processing step is present in the given flag. 
\begin{DoxyParams}{Parameters}
{\em p\+Flags} & The processing flags the importer was called with. A bitwise combination of \hyperlink{postprocess_8h_a64795260b95f5a4b3f3dc1be4f52e410}{ai\+Post\+Process\+Steps}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the process is present in this flag fields, false if not. 
\end{DoxyReturn}


Implements \hyperlink{class_assimp_1_1_base_process_ae707ad643e9c45c265f4c03f4c50a219}{Assimp\+::\+Base\+Process}.

\hypertarget{class_assimp_1_1_improve_cache_locality_process_a78286fab33f4e7ef6ab2a42b7c76e9cf}{\index{Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}!Process\+Mesh@{Process\+Mesh}}
\index{Process\+Mesh@{Process\+Mesh}!Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}}
\subsubsection[{Process\+Mesh}]{\setlength{\rightskip}{0pt plus 5cm}float Improve\+Cache\+Locality\+Process\+::\+Process\+Mesh (
\begin{DoxyParamCaption}
\item[{{\bf ai\+Mesh} $\ast$}]{p\+Mesh, }
\item[{unsigned int}]{mesh\+Num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{class_assimp_1_1_improve_cache_locality_process_a78286fab33f4e7ef6ab2a42b7c76e9cf}
Executes the postprocessing step on the given mesh 
\begin{DoxyParams}{Parameters}
{\em p\+Mesh} & The mesh to process. \\
\hline
{\em mesh\+Num} & \hyperlink{struct_index}{Index} of the mesh to process \\
\hline
\end{DoxyParams}
P\+S\+E\+U\+D\+O\+C\+O\+D\+E for the algorithm

A = Build-\/\+Adjacency(I) Vertex-\/triangle adjacency L = Get-\/\+Triangle-\/\+Counts(A) Per-\/vertex live triangle counts C = Zero(Vertex-\/\+Count(I)) Per-\/vertex caching time stamps D = Empty-\/\+Stack() Dead-\/end vertex stack E = False(Triangle-\/\+Count(I)) Per triangle emitted flag O = Empty-\/\+Index-\/\+Buffer() Empty output buffer f = 0 Arbitrary starting vertex s = k+1, i = 1 Time stamp and cursor while f $>$= 0 For all valid fanning vertices N = Empty-\/\+Set() 1-\/ring of next candidates for each \hyperlink{class_triangle}{Triangle} t in Neighbors(\+A, f) if !\+Emitted(E,t) for each \hyperlink{class_assimp_1_1_vertex}{Vertex} v in t Append(\+O,v) Output vertex Push(\+D,v) Add to dead-\/end stack Insert(\+N,v) Register as candidate L\mbox{[}v\mbox{]} = L\mbox{[}v\mbox{]}-\/1 Decrease live triangle count if s-\/\+C\mbox{[}v\mbox{]} $>$ k If not in cache C\mbox{[}v\mbox{]} = s Set time stamp s = s+1 Increment time stamp E\mbox{[}t\mbox{]} = true Flag triangle as emitted \hyperlink{struct_select}{Select} next fanning vertex f = Get-\/\+Next-\/\+Vertex(I,i,k,N,C,s,L,D) return O

Here is the call graph for this function\+:




Here is the caller graph for this function\+:


\hypertarget{class_assimp_1_1_improve_cache_locality_process_a70a4e7c1615ab706c4b689658e98fd0a}{\index{Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}!Setup\+Properties@{Setup\+Properties}}
\index{Setup\+Properties@{Setup\+Properties}!Assimp\+::\+Improve\+Cache\+Locality\+Process@{Assimp\+::\+Improve\+Cache\+Locality\+Process}}
\subsubsection[{Setup\+Properties}]{\setlength{\rightskip}{0pt plus 5cm}void Improve\+Cache\+Locality\+Process\+::\+Setup\+Properties (
\begin{DoxyParamCaption}
\item[{const {\bf Importer} $\ast$}]{p\+Imp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_assimp_1_1_improve_cache_locality_process_a70a4e7c1615ab706c4b689658e98fd0a}
Called prior to \hyperlink{class_assimp_1_1_base_process_a21f3736d3f3a6df1b8edb5f2ab15c5ae}{Execute\+On\+Scene()}. The function is a request to the process to update its configuration basing on the \hyperlink{class_assimp_1_1_importer}{Importer}'s configuration property list. 

Reimplemented from \hyperlink{class_assimp_1_1_base_process_aae14d0a8c5918642d4a272b7b74b5d70}{Assimp\+::\+Base\+Process}.



Here is the call graph for this function\+:




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
assimp/assimp-\/3.\+1.\+1/code/Improve\+Cache\+Locality.\+h\item 
assimp/assimp-\/3.\+1.\+1/code/Improve\+Cache\+Locality.\+cpp\end{DoxyCompactItemize}

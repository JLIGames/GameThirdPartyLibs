\hypertarget{class_radix_sort}{\section{Radix\+Sort Class Reference}
\label{class_radix_sort}\index{Radix\+Sort@{Radix\+Sort}}
}


Inheritance diagram for Radix\+Sort\+:


Collaboration diagram for Radix\+Sort\+:
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_radix_sort_a92fec8f9bb15493736ca119f92fbaea9}{Radix\+Sort} ()
\item 
\hyperlink{class_radix_sort_ac477ade290104f955836b4750c521cb6}{$\sim$\+Radix\+Sort} ()
\item 
\hyperlink{class_radix_sort}{Radix\+Sort} \& \hyperlink{class_radix_sort_a815a222b3f7d555bf741bff989a32d27}{Sort} (const \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$input, \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} nb, \hyperlink{_ice_revisited_radix_8h_acf223d4d688c445c2088d9b2d9aee8d0}{Radix\+Hint} hint=\hyperlink{_ice_revisited_radix_8h_acf223d4d688c445c2088d9b2d9aee8d0a91fa3afcca04aadade3caad8b46d511b}{R\+A\+D\+I\+X\+\_\+\+S\+I\+G\+N\+E\+D})
\item 
\hyperlink{class_radix_sort}{Radix\+Sort} \& \hyperlink{class_radix_sort_a07ce3c442cb8443012cab92f94351246}{Sort} (const float $\ast$input, \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} nb)
\item 
\hypertarget{class_radix_sort_a705769648fdad72220225ca543b18f2d}{inline\+\_\+ const \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ \hyperlink{class_radix_sort_a705769648fdad72220225ca543b18f2d}{Get\+Ranks} () const }\label{class_radix_sort_a705769648fdad72220225ca543b18f2d}

\begin{DoxyCompactList}\small\item\em Access to results. m\+Ranks is a list of indices in sorted order, i.\+e. in the order you may further process your data. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ \hyperlink{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}{Get\+Recyclable} () const }\label{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}

\begin{DoxyCompactList}\small\item\em m\+Indices2 gets trashed on calling the sort routine, but otherwise you can recycle it the way you want. \end{DoxyCompactList}\item 
\hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} \hyperlink{class_radix_sort_afc66aa956bc2e5078697d75436f9553b}{Get\+Used\+Ram} () const 
\item 
\hypertarget{class_radix_sort_a3872636cd420e073d23b247bc00fa818}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} \hyperlink{class_radix_sort_a3872636cd420e073d23b247bc00fa818}{Get\+Nb\+Total\+Calls} () const }\label{class_radix_sort_a3872636cd420e073d23b247bc00fa818}

\begin{DoxyCompactList}\small\item\em Returns the total number of calls to the radix sorter. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} \hyperlink{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}{Get\+Nb\+Hits} () const }\label{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}

\begin{DoxyCompactList}\small\item\em Returns the number of eraly exits due to temporal coherence. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_a0fb46275af47eee8eb623dda8a978a07}{\hyperlink{class_radix_sort}{Radix\+Sort} \& {\bfseries Sort} (const \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$input, \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} nb, \hyperlink{_ice_revisited_radix_8h_acf223d4d688c445c2088d9b2d9aee8d0}{Radix\+Hint} hint=\hyperlink{_ice_revisited_radix_8h_acf223d4d688c445c2088d9b2d9aee8d0a91fa3afcca04aadade3caad8b46d511b}{R\+A\+D\+I\+X\+\_\+\+S\+I\+G\+N\+E\+D})}\label{class_radix_sort_a0fb46275af47eee8eb623dda8a978a07}

\item 
\hypertarget{class_radix_sort_a94383bb596afb1eef767257e839de6b9}{\hyperlink{class_radix_sort}{Radix\+Sort} \& {\bfseries Sort} (const float $\ast$input, \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} nb)}\label{class_radix_sort_a94383bb596afb1eef767257e839de6b9}

\item 
\hypertarget{class_radix_sort_a705769648fdad72220225ca543b18f2d}{inline\+\_\+ const \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ \hyperlink{class_radix_sort_a705769648fdad72220225ca543b18f2d}{Get\+Ranks} () const }\label{class_radix_sort_a705769648fdad72220225ca543b18f2d}

\begin{DoxyCompactList}\small\item\em Access to results. m\+Ranks is a list of indices in sorted order, i.\+e. in the order you may further process your data. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ \hyperlink{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}{Get\+Recyclable} () const }\label{class_radix_sort_a953a9429075bb3350b1d372972ca0d30}

\begin{DoxyCompactList}\small\item\em m\+Indices2 gets trashed on calling the sort routine, but otherwise you can recycle it the way you want. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_afc66aa956bc2e5078697d75436f9553b}{\hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} {\bfseries Get\+Used\+Ram} () const }\label{class_radix_sort_afc66aa956bc2e5078697d75436f9553b}

\item 
\hypertarget{class_radix_sort_a3872636cd420e073d23b247bc00fa818}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} \hyperlink{class_radix_sort_a3872636cd420e073d23b247bc00fa818}{Get\+Nb\+Total\+Calls} () const }\label{class_radix_sort_a3872636cd420e073d23b247bc00fa818}

\begin{DoxyCompactList}\small\item\em Returns the total number of calls to the radix sorter. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}{inline\+\_\+ \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} \hyperlink{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}{Get\+Nb\+Hits} () const }\label{class_radix_sort_ac69a0a1cc27abac0bd986233dd5fc12a}

\begin{DoxyCompactList}\small\item\em Returns the number of eraly exits due to temporal coherence. \end{DoxyCompactList}\item 
\hypertarget{class_radix_sort_a3441ac4970b0d99a3a68769b4bc3775f}{bool {\bfseries Set\+Rank\+Buffers} (\hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ranks0, \hyperlink{_ice_types_8h_a44c6f1920ba5551225fb534f9d1a1733}{udword} $\ast$ranks1)}\label{class_radix_sort_a3441ac4970b0d99a3a68769b4bc3775f}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Revisited Radix Sort. This is my new radix routine\+:
\begin{DoxyItemize}
\item it uses indices and doesn't recopy the values anymore, hence wasting less ram
\item it creates all the histograms in one run instead of four
\item it sorts words faster than dwords and bytes faster than words
\item it correctly sorts negative floating-\/point values by patching the offsets
\item it automatically takes advantage of temporal coherence
\item multiple keys support is a side effect of temporal coherence
\item it may be worth recoding in asm... (mainly to use F\+C\+O\+M\+I, F\+C\+M\+O\+V, etc) \mbox{[}it's probably memory-\/bound anyway\mbox{]}
\end{DoxyItemize}

History\+:
\begin{DoxyItemize}
\item 08.\+15.\+98\+: very first version
\item 04.\+04.\+00\+: recoded for the radix article
\item 12.\+xx.\+00\+: code lifting
\item 09.\+18.\+01\+: faster C\+H\+E\+C\+K\+\_\+\+P\+A\+S\+S\+\_\+\+V\+A\+L\+I\+D\+I\+T\+Y thanks to Mark D. Shattuck (who provided other tips, not included here)
\item 10.\+11.\+01\+: added local ram support
\item 01.\+20.\+02\+: bugfix! In very particular cases the last pass was skipped in the float code-\/path, leading to incorrect sorting......
\item 01.\+02.\+02\+: -\/ \char`\"{}m\+Indices\char`\"{} renamed =$>$ \char`\"{}m\+Ranks\char`\"{}. That's a rank sorter after all.
\begin{DoxyItemize}
\item ranks are not \char`\"{}reset\char`\"{} anymore, but implicit on first calls
\end{DoxyItemize}
\item 07.\+05.\+02\+: -\/ offsets rewritten with one less indirection.
\item 11.\+03.\+02\+: -\/ \char`\"{}bool\char`\"{} replaced with Radix\+Hint enum
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Pierre Terdiman 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+4 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
August, 15, 1998
\end{DoxyDate}
Revisited Radix Sort. This is my new radix routine\+:
\begin{DoxyItemize}
\item it uses indices and doesn't recopy the values anymore, hence wasting less ram
\item it creates all the histograms in one run instead of four
\item it sorts words faster than dwords and bytes faster than words
\item it correctly sorts negative floating-\/point values by patching the offsets
\item it automatically takes advantage of temporal coherence
\item multiple keys support is a side effect of temporal coherence
\item it may be worth recoding in asm... (mainly to use F\+C\+O\+M\+I, F\+C\+M\+O\+V, etc) \mbox{[}it's probably memory-\/bound anyway\mbox{]}
\end{DoxyItemize}

History\+:
\begin{DoxyItemize}
\item 08.\+15.\+98\+: very first version
\item 04.\+04.\+00\+: recoded for the radix article
\item 12.\+xx.\+00\+: code lifting
\item 09.\+18.\+01\+: faster C\+H\+E\+C\+K\+\_\+\+P\+A\+S\+S\+\_\+\+V\+A\+L\+I\+D\+I\+T\+Y thanks to Mark D. Shattuck (who provided other tips, not included here)
\item 10.\+11.\+01\+: added local ram support
\item 01.\+20.\+02\+: bugfix! In very particular cases the last pass was skipped in the float code-\/path, leading to incorrect sorting......
\item 01.\+02.\+02\+: -\/ \char`\"{}m\+Indices\char`\"{} renamed =$>$ \char`\"{}m\+Ranks\char`\"{}. That's a rank sorter after all.
\begin{DoxyItemize}
\item ranks are not \char`\"{}reset\char`\"{} anymore, but implicit on first calls
\end{DoxyItemize}
\item 07.\+05.\+02\+: offsets rewritten with one less indirection.
\item 11.\+03.\+02\+: \char`\"{}bool\char`\"{} replaced with Radix\+Hint enum
\item 07.\+15.\+04\+: stack-\/based radix added
\begin{DoxyItemize}
\item we want to use the radix sort but without making it static, and without allocating anything.
\item we internally allocate two arrays of ranks. Each of them has N udwords to sort N values.
\item 1\+Mb/2/sizeof(udword) = 131072 values max, at the same time.
\end{DoxyItemize}
\item 09.\+22.\+04\+: -\/ adapted to Mac\+O\+S by Chris Lamb
\item 01.\+12.\+06\+: -\/ added optimizations suggested by Kyle Hubert
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Pierre Terdiman 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+5 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
August, 15, 1998 
\end{DoxyDate}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_radix_sort_a92fec8f9bb15493736ca119f92fbaea9}{\index{Radix\+Sort@{Radix\+Sort}!Radix\+Sort@{Radix\+Sort}}
\index{Radix\+Sort@{Radix\+Sort}!Radix\+Sort@{Radix\+Sort}}
\subsubsection[{Radix\+Sort}]{\setlength{\rightskip}{0pt plus 5cm}Radix\+Sort\+::\+Radix\+Sort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_radix_sort_a92fec8f9bb15493736ca119f92fbaea9}
Constructor. \hypertarget{class_radix_sort_ac477ade290104f955836b4750c521cb6}{\index{Radix\+Sort@{Radix\+Sort}!````~Radix\+Sort@{$\sim$\+Radix\+Sort}}
\index{````~Radix\+Sort@{$\sim$\+Radix\+Sort}!Radix\+Sort@{Radix\+Sort}}
\subsubsection[{$\sim$\+Radix\+Sort}]{\setlength{\rightskip}{0pt plus 5cm}Radix\+Sort\+::$\sim$\+Radix\+Sort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_radix_sort_ac477ade290104f955836b4750c521cb6}
Destructor. 

\subsection{Member Function Documentation}
\hypertarget{class_radix_sort_afc66aa956bc2e5078697d75436f9553b}{\index{Radix\+Sort@{Radix\+Sort}!Get\+Used\+Ram@{Get\+Used\+Ram}}
\index{Get\+Used\+Ram@{Get\+Used\+Ram}!Radix\+Sort@{Radix\+Sort}}
\subsubsection[{Get\+Used\+Ram}]{\setlength{\rightskip}{0pt plus 5cm}{\bf udword} Radix\+Sort\+::\+Get\+Used\+Ram (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_radix_sort_afc66aa956bc2e5078697d75436f9553b}
Gets the ram used. \begin{DoxyReturn}{Returns}
memory used in bytes 
\end{DoxyReturn}
\hypertarget{class_radix_sort_a815a222b3f7d555bf741bff989a32d27}{\index{Radix\+Sort@{Radix\+Sort}!Sort@{Sort}}
\index{Sort@{Sort}!Radix\+Sort@{Radix\+Sort}}
\subsubsection[{Sort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Radix\+Sort} \& Radix\+Sort\+::\+Sort (
\begin{DoxyParamCaption}
\item[{const {\bf udword} $\ast$}]{input, }
\item[{{\bf udword}}]{nb, }
\item[{{\bf Radix\+Hint}}]{hint = {\ttfamily {\bf R\+A\+D\+I\+X\+\_\+\+S\+I\+G\+N\+E\+D}}}
\end{DoxyParamCaption}
)}}\label{class_radix_sort_a815a222b3f7d555bf741bff989a32d27}
Main sort routine. This one is for integer values. After the call, m\+Ranks contains a list of indices in sorted order, i.\+e. in the order you may process your data. 
\begin{DoxyParams}{Parameters}
{\em input} & \mbox{[}in\mbox{]} a list of integer values to sort \\
\hline
{\em nb} & \mbox{[}in\mbox{]} number of values to sort, must be $<$ 2$^\wedge$31 \\
\hline
{\em hint} & \mbox{[}in\mbox{]} R\+A\+D\+I\+X\+\_\+\+S\+I\+G\+N\+E\+D to handle negative values, R\+A\+D\+I\+X\+\_\+\+U\+N\+S\+I\+G\+N\+E\+D if you know your input buffer only contains positive values \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Self-\/\+Reference 
\end{DoxyReturn}
\hypertarget{class_radix_sort_a07ce3c442cb8443012cab92f94351246}{\index{Radix\+Sort@{Radix\+Sort}!Sort@{Sort}}
\index{Sort@{Sort}!Radix\+Sort@{Radix\+Sort}}
\subsubsection[{Sort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Radix\+Sort} \& Radix\+Sort\+::\+Sort (
\begin{DoxyParamCaption}
\item[{const float $\ast$}]{input2, }
\item[{{\bf udword}}]{nb}
\end{DoxyParamCaption}
)}}\label{class_radix_sort_a07ce3c442cb8443012cab92f94351246}
Main sort routine. This one is for floating-\/point values. After the call, m\+Ranks contains a list of indices in sorted order, i.\+e. in the order you may process your data. 
\begin{DoxyParams}{Parameters}
{\em input} & \mbox{[}in\mbox{]} a list of floating-\/point values to sort \\
\hline
{\em nb} & \mbox{[}in\mbox{]} number of values to sort, must be $<$ 2$^\wedge$31 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Self-\/\+Reference 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
only sorts I\+E\+E\+E floating-\/point values 
\end{DoxyWarning}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
bullet/bullet-\/2.\+82-\/r2704/\+Extras/\+C\+D\+Test\+Framework/\+Opcode/\+Ice/\+\_\+\+Ice\+Revisited\+Radix.\+h\item 
bullet/bullet-\/2.\+82-\/r2704/\+Extras/\+C\+D\+Test\+Framework/\+Opcode/\+Ice/\hyperlink{_ice_revisited_radix_8h}{Ice\+Revisited\+Radix.\+h}\item 
bullet/bullet-\/2.\+82-\/r2704/\+Extras/\+C\+D\+Test\+Framework/\+Opcode/\+Ice/\+\_\+\+Ice\+Revisited\+Radix.\+cpp\item 
bullet/bullet-\/2.\+82-\/r2704/\+Extras/\+C\+D\+Test\+Framework/\+Opcode/\+Ice/\hyperlink{_ice_revisited_radix_8cpp}{Ice\+Revisited\+Radix.\+cpp}\end{DoxyCompactItemize}
